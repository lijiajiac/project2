<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>修改用户信息</title>
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/scennic.css">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../font/iconfont.css">
    <link rel="stylesheet" href="../bt4/css/bootstrap.css">
</head>
<script type="text/javascript">
    function fanhui() {
        window.history.back();//返回
    }

    function jiaoyan() {

        var name = $("[name='name']").val();
        if (name == "" || name == null) {
            $("#show_span").text("用户名不能为空");
            showAndHide();
            return false;
        }


        var password = $("[name='password']").val();
        if (password == "" || password == null) {
            $("#show_span").text("密码不能为空");
            showAndHide();
            return false;
        }
        if (password.length < 6) {
            $("#show_span").text("密码不能低于6位数");
            showAndHide();
            return false;
        }
        $("#show_span").text("修改成功!");
        showAndHide();
        return true;
    }

    var intervalID = null;

    function showAndHide() {  /*js校验提示框显示*/
        //debugger;
        $("#show_span").fadeIn("slow");

        intervalID = window.setInterval("hidetip();", 3000);//设置一个定时器
    }

    function hidetip() {
        $("#show_span").fadeOut("slow");
        window.clearInterval(intervalID)
    }
</script>
<body>
<!--调用头部公共代码-->
<div th:replace="~{base::header}"></div>
<section style="display: flex">
    <!--调用公共的代码片段-->
    <div th:replace="~{base::section_leaf('find')}" class="bg-light"></div>
    <div class="base_rahit bg-light">
        <div class=" mt-3 mb-3">
                    <span class="text-muted font-weight-bold mt-5 ml-3 "
                          style="font-size: 20px;margin-top: 5px;">修改用户信息</span>
        </div>
        <div type="hidden" id="show_span"></div><!--检验错误信息提示框-->
        <form th:action="@{/main/updateone}" method="post" onsubmit="return secretPwd();">
            <input th:value="${user.id}" type="hidden" name="id">
            <div style="background-color:#eeeeee;display: flex;align-items: center" class="mt-3 mb-3">
                <span style="text-align: right;margin-left: 60px;width: 80px"><b
                        style="color: red;font-size: 16px;">*</b>用户名：</span>
                <input th:value="${user.name}" type="text" name="name" class="mt-3 mb-3 ml-1 w-50">
            </div>
            <div style="background-color:#eeeeee;display: flex;align-items: center" class="mt-3 mb-3">
                    <span style="text-align: right;margin-left: 60px;width: 80px"><b
                            style="color: red;font-size: 16px;">*</b>密码：</span>
                <input th:value="${user.password}" type="password" name="password" class="mt-3 mb-3 ml-1 w-50">
            </div>
            <div style="background-color:#eeeeee;display: flex;align-items: center" class="mt-3 mb-3">
                <span style="text-align: right;margin-left: 60px;width: 80px"><b
                        style="color: red;font-size: 16px;">*</b>用户状态</span>
                <input th:value="${user.state}" type="text" name="salt" class="mt-3 mb-3 ml-1 w-50">
                &nbsp; (0为禁用状态,1使用状态)
            </div>
            <div class="mt-3 mb-5">
                <input type="submit" value="修 改" class="btn btn-success text-white" style="margin-left: 142px"
                       onclick=" return jiaoyan()">
                <input type="button" value="返回" class=" btn btn-success text-white ml-5" onclick="fanhui();"></a>
            </div>
        </form>


    </div>

</section>

</body>


<script type="text/javascript" src="../bt4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../bt4/js/popper.min.js"></script>
<script type="text/javascript" src="../bt4/js/jquery-3.3.1.min.js"></script>
</html>